<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="UTF-8">
		<title>jQuery实现JSONP</title>
		<script type="text/javascript" src="https://code.jquery.com/jquery-3.1.0.min.js"></script>
		<script type="text/javascript" src="js/vue.min.js"></script>
	</head>
	<!--<script type="text/javascript">
		
		$.getJSON("http://localhost:8081/bbs/userManager?callback=users", function(d) {
		console.log(d.users[0]);
			new Vue({
				el:'#mydiv',
				data(){
					return d;
				}
			})
		for (var i = 0; i < d.users.length; i++) {
			document.write(JSON.stringify(d.users[i].username));
		}
		});
</script>-->

	<body>

		<div id="mydiv">
			<button id="btn" @click="get">点击</button>
			{{user[0]}}
		</div>
		<a href="http://localhost:8081/bbs/logout">注销</a>
	</body>
	<script type="text/javascript">
		new Vue({
			el: '#mydiv',
			data:{
				user:""
			},
			methods: {
				get: function() {
					_this=this;
					$.getJSON("http://localhost:8081/bbs/userManager?callback=users", function(d) {
//						for(var i = 0; i < d.users.length; i++) {
//							document.write(JSON.stringify(d.users[i].username));						
//						}
						_this.user=d.users;
					});
				}
			}
		});
	</script>

</html>