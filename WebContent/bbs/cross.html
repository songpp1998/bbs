<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>ajax跨域</title>
		<script type="text/javascript" src="js/jquery-3.3.1.min.js" ></script>
		<script type="text/javascript" src="js/vue.min.js" ></script>
		
	</head>
	<body>
		<div id="mydiv">
			<button id="btn" @click="get()">111</button>
			{{user}}
		</div>
		<a href="http://localhost:8081/bbs/logout">注销</a>
	</body>
	<script>
		new Vue({
			el:'#mydiv',
			data:{
				user:''
			},
			methods:{
				get:function(){
					_this=this;
					$.ajax({ 
			            url: 'http://localhost:8081/bbs/userShow',  // 跨域URL
			            type: 'get', 
						dataType:"json",
						xhrFields: {withCredentials: true},
			            success: function(data){
			            	console.log(data);
			            	_this.user=data;
			             }			            
			    });
				}
			}
		});
	</script>
</html>
